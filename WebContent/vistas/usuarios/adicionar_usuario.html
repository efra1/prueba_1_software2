<!DOCTYPE html>
<html lang="en">
	
<!-- Mirrored from hencework.com/theme/dexter/full-width-light/form-layout.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 13 Sep 2017 19:44:57 GMT -->
<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>Dexter I Fast build Admin dashboard for any platform</title>
		<meta name="description" content="Dexter is a Dashboard & Admin Site Responsive Template by hencework." />
		<meta name="keywords" content="admin, admin dashboard, admin template, cms, crm, Dexter Admin, Dexteradmin, premium admin templates, responsive admin, sass, panel, software, ui, visualization, web app, application" />
		<meta name="author" content="hencework"/>
		
		<!-- Favicon -->
		<link rel="shortcut icon" href="favicon.ico">
		<link rel="icon" href="../../favicon.ico" type="image/x-icon">
		
		<!-- vector map CSS -->
		<link href="../../vendors/bower_components/jasny-bootstrap/dist/css/jasny-bootstrap.min.css" rel="stylesheet" type="text/css"/>
		
		<!-- Bootstrap Dropify CSS -->
		<link href="../../vendors/bower_components/dropify/dist/css/dropify.min.css" rel="stylesheet" type="text/css"/>
		<!-- Custom CSS -->
		<link href="../../dist/css/style.css" rel="stylesheet" type="text/css">
	</head>
	
	<body>
		
		
		<div class="wrapper theme-1-active pimary-color-red">
		
			
				
			<!-- Main Content -->
		
				<div class="container-fluid">
					
					
					
			
				   	<!-- Row -->
					<div class="row">
						<div class="col-md-12">
							<div class="panel panel-default card-view">
								<div class="panel-heading">
									<div class="pull-left">
										<h6 class="panel-title txt-dark">ADICIONAR USUARIO</h6>
									</div>
									<div class="clearfix"></div>
								</div>
								
								<form action="../usuarios/guardar_usuario" method="post" class="form-horizontal" enctype="multipart/form-data">
													
								<div class="panel-wrapper collapse in">
									<div class="panel-body">
										<div class="row">
											<div class="col-md-12">
												<div class="form-wrap">
														<div class="form-body">
															<h6 class="txt-dark capitalize-font"><i class="zmdi zmdi-account mr-10"></i>Ingrese los datos personales del nuevo usuario</h6>
															<hr class="light-grey-hr"/>
															
															
														<div class="row">
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">CI </label>
																		<div class="col-md-9">
																			<input type="text" name="ci" id="ci1"  onblur="validar_ci()" class="form-control" placeholder="ingrese ci del usuario " pattern="[0-9]{7}" title="El CI debe ser un numeros de 7 digitos">
																		<div id="lab_ci"></div>	
																		</div>
																	</div>
																</div>
																<!--/span-->
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">Nombre</label>
																		<div class="col-md-9">
																			<input type="text" name="nombre" class="form-control" placeholder="ingrese nombre " pattern="[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]{3,48}" required="required" title="El nombre debe ser solo letras">
																			
																		</div>
																	</div>
																</div>
																<!--/span-->
															</div>	
															
															
															
															
															<div class="row">
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">apellido paterno</label>
																		<div class="col-md-9">
																			<input type="text" name="ap" class="form-control" placeholder="apellido paterno" pattern="[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]{3,48}" required title="El ap paterno debe ser solo letras">
																			
																		</div>
																	</div>
																</div>
																<!--/span-->
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">apellido materno</label>
																		<div class="col-md-9">
																			<input type="text" name="am" class="form-control" placeholder="ingrese apellido materno" pattern="[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]{3,48}"  title="El ap materno debe ser solo letras">
																			
																		</div>
																	</div>
																</div>
																<!--/span-->
															</div>
															<!-- /Row -->
															<div class="row">
																
																<!--/span-->
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">Email</label>
																		<div class="col-md-9">
																			<input type="text" name="email" class="form-control" placeholder="Email" pattern="^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$"  title="el campo debe tener extencion @gmail.com">
																		</div>
																	</div>
																</div>
																
																
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">Telefono</label>
																		<div class="col-md-9">
																			<input type="text" name="telefono" class="form-control" placeholder="Telefono" pattern="[0-9]{8}" title="El Telefono debe ser numeros de 8 digitos"  required="required">
																		</div>
																	</div>
																</div>
																
																<!--/span-->
															</div>
															<!-- /Row -->
															<div class="row">
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">fecha Nacimiento</label>
																		<div class="col-md-5">
																			<input type="date" name="fechanac"   id="fechanac"  class="form-control" required="required" onblur="javascript:calcularEdad();">
																		</div>
																	</div>
																</div>
																
																
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">Edad</label>
																		<div class="col-md-2">
																			<input type="number" class="form-control" required="required" id="edad" min="18">
																		</div>
																	</div>
																</div>
																<!--/span-->
																
																<!--/span-->
															</div>
															
															<!-- /Row -->
															<div class="row">
																<div class="col-md-6">
																	<label class="control-label mb-10 text-left">Genero</label>
																<div class="radio radio-info">
																<input type="radio" name="sexo" id="radio1" value="m" checked>
																<label for="radio1">
																	Masculino
																</label>
																</div>
																<div class="radio radio-info">
																	<input type="radio" name="sexo" id="radio2" value="f" >
																	<label for="radio2">
																		Femenino	
																	</label>
																</div>
																</div>
																<!--/span-->
																<div class="col-md-6">
																	<div class="form-group">
																		<label class="control-label col-md-3">Estado Civil</label>
																		<div class="col-md-9">
																			<select class="form-control" name="ecivil" required="required">
																				<option value="s">Soltero</option>
																				<option value="c">Casado</option>
																				<option value="d">Divorciado</option>
																				<option value="v">Viudo</option>
																			</select>
																		</div>
																	</div>
																</div>
																<!--/span-->
															</div>
															
															
															<div class="row">
																<div class="col-md-12">
																	<div class="mt-40">
																		<input type="file" name="file" class="dropify"  />
																	</div>	
																</div>
																<!--/span-->
																
																<!--/span-->
															</div>
															
																										</div>
														<div class="form-actions mt-10">
															<div class="row">
																<div class="col-md-6">
																	<div class="row">
																		<div class="col-md-9">
																			<button type="submit" class="btn btn-success  mr-10">ACEPTAR</button>
																			<button type="button" class="btn btn-default" onclick="location.href='../usuarios/gestion_usuarios'">CANCELAR</button>
																		</div>
																	</div>
																</div>
																<div class="col-md-6"> </div>
															</div>
														</div>
													</form>
												</div>
											</div>
										</div>
									</div>
								</div>
									</form>
							</div>
						</div>
					</div>
					<!-- /Row -->
					
		
				
				</div>
				
			
			</div>
			<!-- /Main Content -->
		
		</div>
		<!-- /#wrapper -->
		
		<!-- JavaScript -->
		
		<!-- jQuery -->
		<script src="../../vendors/bower_components/jquery/dist/jquery.min.js"></script>
		
		<!-- Bootstrap Core JavaScript -->
		<script src="../../vendors/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="../../vendors/bower_components/jasny-bootstrap/dist/js/jasny-bootstrap.min.js"></script>
		
		<!-- Bootstrap Daterangepicker JavaScript -->
		<script src="../../vendors/bower_components/dropify/dist/js/dropify.min.js"></script>
		
		<!-- Form Flie Upload Data JavaScript -->
		<script src="../../dist/js/form-file-upload-data.js"></script>
		<!-- Slimscroll JavaScript -->
		<script src="../../dist/js/jquery.slimscroll.js"></script>
	
		<!-- Fancy Dropdown JS -->
		<script src="../../dist/js/dropdown-bootstrap-extended.js"></script>
		
		<!-- Owl JavaScript -->
		<script src="../../vendors/bower_components/owl.carousel/dist/owl.carousel.min.js"></script>
	
		<!-- Switchery JavaScript -->
		<script src="../../vendors/bower_components/switchery/dist/switchery.min.js"></script>
	
		<!-- Init JavaScript -->
		<script src="../../dist/js/init.js"></script>
	</body>
<script type="text/javascript">
	 

	  
		  		 
		function validar_ci() {   	
			
		
		  		var CI =$('#ci1').val();
		  	
		  		
		  		$.ajax({
					url:"prueba",
					type:"post",
					data:{
						"ci":CI
					},
					success:function(RESULTADO){
						if( RESULTADO == '300'){
							$("#lab_ci").html(" <label>el ci ya existe</label>");
							$("#ci1").val('');
						}
						else if(RESULTADO == '200'){
							$("#lab_ci").html(" <label>el ci esta disponible</label>");
						}
						
					},
					error:function(xhr){
						alert("Error: al procesar la peticion! recargue e intente de nuevo!","danger");
					}
				});
	  }
	
    </script>
    
</html>
<script type="text/javascript">
function isValidDate(day,month,year)
{
    var dteDate;
 
    // En javascript, el mes empieza en la posicion 0 y termina en la 11 
    //   siendo 0 el mes de enero
    // Por esta razon, tenemos que restar 1 al mes
    month=month-1;
    // Establecemos un objeto Data con los valore recibidos
    // Los parametros son: año, mes, dia, hora, minuto y segundos
    // getDate(); devuelve el dia como un entero entre 1 y 31
    // getDay(); devuelve un num del 0 al 6 indicando siel dia es lunes,
    //   martes, miercoles ...
    // getHours(); Devuelve la hora
    // getMinutes(); Devuelve los minutos
    // getMonth(); devuelve el mes como un numero de 0 a 11
    // getTime(); Devuelve el tiempo transcurrido en milisegundos desde el 1
    //   de enero de 1970 hasta el momento definido en el objeto date
    // setTime(); Establece una fecha pasandole en milisegundos el valor de esta.
    // getYear(); devuelve el año
    // getFullYear(); devuelve el año
    dteDate=new Date(year,month,day);
 
    //Devuelva true o false...
    return ((day==dteDate.getDate()) && (month==dteDate.getMonth()) && (year==dteDate.getFullYear()));
}
 
/**
 * Funcion para validar una fecha
 * Tiene que recibir:
 *  La fecha en formato ingles yyyy-mm-dd
 * Devuelve:
 *  true-Fecha correcta
 *  false-Fecha Incorrecta
 */
function validate_fecha(fecha)
{
    var patron=new RegExp("^(19|20)+([0-9]{2})([-])([0-9]{1,2})([-])([0-9]{1,2})$");
 
    if(fecha.search(patron)==0)
    {
        var values=fecha.split("-");
        if(isValidDate(values[2],values[1],values[0]))
        {
            return true;
        }
    }
    return false;
}
 
/**
 * Esta función calcula la edad de una persona y los meses
 * La fecha la tiene que tener el formato yyyy-mm-dd que es
 * metodo que por defecto lo devuelve el <input type="date">
 */
function calcularEdad()
{
    var fecha=document.getElementById("fechanac").value;
    if(validate_fecha(fecha)==true)
    {
        // Si la fecha es correcta, calculamos la edad
        var values=fecha.split("-");
        var dia = values[2];
        var mes = values[1];
        var ano = values[0];
 
        // cogemos los valores actuales
        var fecha_hoy = new Date();
        var ahora_ano = fecha_hoy.getYear();
        var ahora_mes = fecha_hoy.getMonth()+1;
        var ahora_dia = fecha_hoy.getDate();
 
        // realizamos el calculo
        var edad = (ahora_ano + 1954) - ano;
        if ( ahora_mes < mes )
        {
            edad--;
        }
        if ((mes == ahora_mes) && (ahora_dia < dia))
        {
            edad--;
        }
        if (edad > 1900)
        {
            edad -= 1900;
        }
 
        // calculamos los meses
        var meses=0;
        if(ahora_mes>mes)
            meses=ahora_mes-mes;
        if(ahora_mes<mes)
            meses=12-(mes-ahora_mes);
        if(ahora_mes==mes && dia>ahora_dia)
            meses=11;
 
        // calculamos los dias
        var dias=0;
        if(ahora_dia>dia)
            dias=ahora_dia-dia;
        if(ahora_dia<dia)
        {
            ultimoDiaMes=new Date(ahora_ano, ahora_mes, 0);
            dias=ultimoDiaMes.getDate()-(dia-ahora_dia);
        }
 
        document.getElementById("edad").value=edad;
		
    }else{
        alert("La fecha "+fecha+" es incorrecta");
    }
}
</script>